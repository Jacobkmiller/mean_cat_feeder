<!doctype html>
<html>
  <head>
    <base href="/">
    <meta charset="utf-8">
    <title>FountainJS</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/png" href="http://fountainjs.io/assets/imgs/fountain.png" />
  </head>

  <body>
    <fountain-root>Loading...</fountain-root>
    <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>

    <script type="text/javascript">
    var light = 0;
    function toggleLight(){
      if (!light) {
        $.get("/on");
      } else {
        $.get("/off");
      };
    }
    </script>
    <h1>Let's feed some cats</h1>
    <button type="button" onclick="wsavc.playStream()">Start Video</button>
    <button type="button" onclick="wsavc.stopStream()">Stop Video</button>
    <button type="button" onclick="toggleLight()">Liight</button>
    <!--<button type="button" onclick="wsavc.disconnect()">Disconnect</button>-->
    <br/>

  <!-- provide WSAvcPlayer -->
    <script type="text/javascript" src="/app/assets/h264-live-player/vendor/dist/http-live-player.js">;</script>
    <script type="text/javascript">

var canvas = document.createElement("canvas");
document.body.appendChild(canvas);

// Create h264 player
var uri = "ws://98.171.176.160:3000";
console.log(uri);
var wsavc = new WSAvcPlayer(canvas, "webgl", 1, 35);
wsavc.connect(uri);


//expose instance for button callbacks
window.wsavc = wsavc;

    </script>
  </body>
</html>
