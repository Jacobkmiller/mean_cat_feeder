<!DOCTYPE html>
<html>
  <head>
    <title>Cat Feeder</title>
  </head>
  <body>
    <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>

    <script type="text/javascript">
    var light = 0;
    function toggleLight(){
      if (!light) {
        $.get("/on");
      } else {
        $.get("/off");
      };
    }
    </script>
    <h1>Let's feed some cats</h1>
    <button type="button" onclick="wsavc.playStream()">Start Video</button>
    <button type="button" onclick="wsavc.stopStream()">Stop Video</button>
    <button type="button" onclick="toggleLight()">Liight</button>
    <!--<button type="button" onclick="wsavc.disconnect()">Disconnect</button>-->
    <br/>

  <!-- provide WSAvcPlayer -->
    <script type="text/javascript" src="http-live-player.js">;</script>
    <script type="text/javascript">

var canvas = document.createElement("canvas");
document.body.appendChild(canvas);

// Create h264 player
var uri = "ws://" + document.location.host;
var wsavc = new WSAvcPlayer(canvas, "webgl", 1, 35);
wsavc.connect(uri);


//expose instance for button callbacks
window.wsavc = wsavc;

    </script>
  </body>
</html>